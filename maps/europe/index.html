<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
	<script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
	<script src='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-omnivore/v0.2.0/leaflet-omnivore.min.js'></script>

	<style type="text/css" media="screen">
		.map {
			width: 650px;
			height: 600px;
			margin: 50px auto;
		}

		.title {
			width: 650px;
			margin: 0 auto;
		}

		.leaflet-image-layer {
			z-index: 99;
		}
	</style>
</head>
<body>
	<h2 class="title">Color #1</h2>
	<div class="map" id="map"></div>
	<h2 class="title">Color #2</h2>
	<div class="map" id="map-2"></div>
	<h2 class="title">Color #3</h2>
	<div class="map" id="map-3"></div>
	<h2 class="title">Color #4</h2>
	<div class="map" id="map-4"></div>

	<script type="text/javascript" charset="utf-8" >
		var map = L.map('map', {
			    center: [47, 2.5],
			    zoom: 4,
			    minZoom: 4,
			    maxZoom: 5,
			    maxBounds: [[39.4700000, -9.9600000], [53.6700000, 14.6400000]]
			});

		var map2 = L.map('map-2', {
			    center: [47, 2.5],
			    zoom: 4,
			    minZoom: 4,
			    maxZoom: 5,
			    maxBounds: [[39.4700000, -9.9600000], [53.6700000, 14.6400000]]
			});

		var map3 = L.map('map-3', {
			    center: [47, 2.5],
			    zoom: 4,
			    minZoom: 4,
			    maxZoom: 5,
			    maxBounds: [[39.4700000, -9.9600000], [53.6700000, 14.6400000]]
			});

		var map4 = L.map('map-4', {
			    center: [47, 2.5],
			    zoom: 4,
			    minZoom: 4,
			    maxZoom: 5,
			    maxBounds: [[39.4700000, -9.9600000], [53.6700000, 14.6400000]]
			});

		var imageUrl = 'http://dznavitski.github.io/maps/img/radar_prog-fr_20151215_0950.png';
    	var imageBounds = [[39.4700000, -9.9600000], [53.6700000, 14.6400000]];

    	var francePoly = L.geoJson(null, {
			style: franceStyle
		});

		var francePoly2 = L.geoJson(null, {
			style: franceStyle2
		});

		var francePoly3 = L.geoJson(null, {
			style: franceStyle3
		});

		var francePoly4 = L.geoJson(null, {
			style: franceStyle4
		});

		renderMap(map, francePoly);

		renderMap(map2, francePoly2);

		renderMap(map3, francePoly3);

		renderMap(map4, francePoly4);

		function renderMap(map, poly) {
			L.tileLayer('http://api.mapbox.com/v3/mapbox.natural-earth-hypso-bathy/{z}/{x}/{y}.png', {
			    maxZoom: 5,
			    attribution: 'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
			}).addTo(map);

			L.imageOverlay(imageUrl, imageBounds).addTo(map);

			omnivore.topojson('data/topojson/poly.topojson', null, poly).addTo(map);
		}


		function franceStyle(feature) {
			return {
				stroke: true,
				weight: 1.1,
				color: 'rgba(255,255,255,0.95)',
				fill: true,
				fillColor: 'rgba(0, 164, 79, 1)',
				fillOpacity: 0.85,
				opacity: 1
			};
		}

		function franceStyle2(feature) {
			return {
				stroke: true,
				weight: 1.1,
				color: 'rgba(255,255,255,0.95)',
				fill: true,
				fillColor: 'rgba(0,85,164,1)',
				fillOpacity: 0.85,
				opacity: 1
			};
		}

		function franceStyle3(feature) {
			return {
				stroke: true,
				weight: 1.1,
				color: 'rgba(255,255,255,0.95)',
				fill: true,
				fillColor: 'rgba(239,65,53,1)',
				fillOpacity: 0.85,
				opacity: 1
			};
		}

		function franceStyle4(feature) {
			return {
				stroke: true,
				weight: 1.1,
				color: 'rgba(255,255,255,0.95)',
				fill: true,
				fillColor: 'rgba(151,199,55,1)',
				fillOpacity: 0.85,
				opacity: 1
			};
		}
	</script>
</body>
</html>